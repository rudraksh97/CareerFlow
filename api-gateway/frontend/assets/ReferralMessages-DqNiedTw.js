import{c as W,r as i,j as e,A as P,m as l,X as H,U as B,a as re,M as S,u as J,b as ne}from"./index-0B-QrMym.js";import{u as ie}from"./useQuery-gFyUPQ7C.js";import{u as q}from"./useMutation-DdaFRHUm.js";import{a as L}from"./api-BgONvxhD.js";import{S as Q,R as O}from"./index-W4XAZPlB.js";import{B as ce}from"./building-C-svXhnr.js";import{A as oe}from"./arrow-right-B36HDTpG.js";import{C as M,D as Y}from"./download-BfIeGHGd.js";import{M as me}from"./mail-D00ol1xp.js";import{S as de}from"./save-DDhsktxM.js";import{R as xe}from"./rotate-cw-BU4PmOrm.js";import{P as K}from"./plus-CaDpXQUP.js";import{S as ue}from"./search-DuMWX5kD.js";import{P as pe}from"./pen-square-BwW19Awb.js";import{T as he}from"./trending-up-CiTOepoW.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=W("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=W("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),ge=({isOpen:o,onClose:x,template:r})=>{const[m,f]=i.useState("form"),[c,y]=i.useState({contact_name:"",company_name:"",position_title:"",your_name:"",your_background:""}),[n,p]=i.useState(null),[u,_]=i.useState(null);i.useEffect(()=>{o&&r&&(f("form"),y({contact_name:"",company_name:r.target_company||"",position_title:r.target_position||"",your_name:"",your_background:""}),p(null),_(null))},[o,r]);const a=q({mutationFn:s=>L.post("/referral-messages/generate",s).then(h=>h.data),onSuccess:s=>{p(s),f("result")},onError:s=>{console.error("Error generating message:",s),alert("Failed to generate message. Please try again.")}}),j=s=>{if(s.preventDefault(),!r)return;const h={template_id:r.id,contact_name:c.contact_name.trim()||void 0,company_name:c.company_name.trim()||void 0,position_title:c.position_title.trim()||void 0,your_name:c.your_name.trim()||void 0,your_background:c.your_background.trim()||void 0};a.mutate(h)},v=(s,h)=>{y(U=>({...U,[s]:h}))},T=async(s,h)=>{try{await navigator.clipboard.writeText(s),_(h),setTimeout(()=>_(null),2e3)}catch(U){console.error("Failed to copy to clipboard:",U),alert("Failed to copy to clipboard")}},k=s=>s.replace(/_/g," ").toLowerCase().replace(/\b\w/g,h=>h.toUpperCase()),$=()=>{f("form"),p(null),_(null)};return!o||!r?null:e.jsx(P,{children:e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:x,children:e.jsxs(l.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:s=>s.stopPropagation(),className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden border border-neutral-200",children:[e.jsx("div",{className:"bg-gradient-to-r from-neutral-50 to-white p-6 border-b border-neutral-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-neutral-100 border border-neutral-200",children:e.jsx(Q,{className:"h-5 w-5 text-neutral-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:"Generate Personalized Message"}),e.jsxs("p",{className:"text-sm text-neutral-600",children:[k(r.message_type)," â€¢ ",r.title]})]})]}),e.jsx("button",{onClick:x,className:"p-2 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors",children:e.jsx(H,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(P,{mode:"wait",children:m==="form"?e.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900 mb-2",children:"Personalization Details"}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Fill in the details below to create a personalized message"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-700 mb-2",children:[e.jsx(B,{className:"h-4 w-4 text-neutral-500"}),"Contact Name"]}),e.jsx("input",{type:"text",value:c.contact_name,onChange:s=>v("contact_name",s.target.value),className:"form-input",placeholder:"Who are you reaching out to?",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-700 mb-2",children:[e.jsx(ce,{className:"h-4 w-4 text-neutral-500"}),"Company Name"]}),e.jsx("input",{type:"text",value:c.company_name,onChange:s=>v("company_name",s.target.value),className:"form-input",placeholder:"What company are you interested in?",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-700 mb-2",children:[e.jsx(re,{className:"h-4 w-4 text-neutral-500"}),"Position Title"]}),e.jsx("input",{type:"text",value:c.position_title,onChange:s=>v("position_title",s.target.value),className:"form-input",placeholder:"What role are you applying for?",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-700 mb-2",children:[e.jsx(B,{className:"h-4 w-4 text-neutral-500"}),"Your Name"]}),e.jsx("input",{type:"text",value:c.your_name,onChange:s=>v("your_name",s.target.value),className:"form-input",placeholder:"Your full name",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Your Background"}),e.jsx("textarea",{value:c.your_background,onChange:s=>v("your_background",s.target.value),className:"form-input h-24 resize-none",placeholder:"Brief summary of your experience and skills relevant to this role...",required:!0})]}),e.jsx("div",{className:"pt-4",children:e.jsxs("button",{type:"submit",disabled:a.isPending,className:"btn-primary w-full group",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),a.isPending?"Generating...":"Generate Message",e.jsx(oe,{className:"h-4 w-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]},"form"):e.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-1 rounded bg-green-100",children:e.jsx(M,{className:"h-4 w-4 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Message Generated Successfully!"})]}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Your personalized message is ready to use"})]}),n&&e.jsxs("div",{className:"space-y-4",children:[n.subject&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-700",children:[e.jsx(me,{className:"h-4 w-4 text-neutral-500"}),"Email Subject"]}),e.jsx("button",{onClick:()=>T(n.subject,"subject"),className:`text-xs px-3 py-1 rounded-lg transition-colors ${u==="subject"?"bg-green-100 text-green-700":"bg-neutral-100 hover:bg-neutral-200 text-neutral-700"}`,children:u==="subject"?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-3 w-3 mr-1 inline"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-3 w-3 mr-1 inline"}),"Copy"]})})]}),e.jsx("div",{className:"p-3 bg-neutral-50 border border-neutral-200 rounded-lg text-sm",children:n.subject})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-700",children:[e.jsx(S,{className:"h-4 w-4 text-neutral-500"}),"Message Body"]}),e.jsx("button",{onClick:()=>T(n.message,"message"),className:`text-xs px-3 py-1 rounded-lg transition-colors ${u==="message"?"bg-green-100 text-green-700":"bg-neutral-100 hover:bg-neutral-200 text-neutral-700"}`,children:u==="message"?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-3 w-3 mr-1 inline"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-3 w-3 mr-1 inline"}),"Copy"]})})]}),e.jsx("div",{className:"p-4 bg-neutral-50 border border-neutral-200 rounded-lg text-sm whitespace-pre-wrap max-h-64 overflow-y-auto",children:n.message})]})]})]},"result")})}),e.jsx("div",{className:"border-t border-neutral-200 p-6 bg-neutral-50",children:e.jsx("div",{className:"flex gap-3",children:m==="form"?e.jsx("button",{onClick:x,className:"btn-secondary flex-1",children:"Cancel"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:$,className:"btn-secondary",children:"Edit Details"}),e.jsx("button",{onClick:()=>{if(n){const s=n.subject?`Subject: ${n.subject}

${n.message}`:n.message;T(s,"full")}},className:`btn-primary flex-1 ${u==="full"?"bg-green-600 hover:bg-green-700":""}`,children:u==="full"?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4 mr-2"}),"Copied Complete Message!"]}):e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-4 w-4 mr-2"}),"Copy Complete Message"]})}),e.jsx("button",{onClick:x,className:"btn-secondary",children:"Done"})]})})})]})})})},je=({isOpen:o,onClose:x,editingMessage:r})=>{const[m,f]=i.useState({title:"",message_type:O.COLD_OUTREACH,subject_template:"",message_template:"",target_company:"",target_position:"",is_active:!0,notes:""}),c=J();i.useEffect(()=>{o&&f(r?{title:r.title,message_type:r.message_type,subject_template:r.subject_template||"",message_template:r.message_template,target_company:r.target_company||"",target_position:r.target_position||"",is_active:r.is_active,notes:r.notes||""}:{title:"",message_type:O.COLD_OUTREACH,subject_template:"",message_template:"",target_company:"",target_position:"",is_active:!0,notes:""})},[o,r]);const y=q({mutationFn:a=>L.post("/referral-messages/",a),onSuccess:()=>{c.invalidateQueries({queryKey:["referral-messages"]}),x()},onError:a=>{console.error("Error creating template:",a),alert("Failed to create template. Please try again.")}}),n=q({mutationFn:({id:a,data:j})=>L.put(`/referral-messages/${a}`,j),onSuccess:()=>{c.invalidateQueries({queryKey:["referral-messages"]}),x()},onError:a=>{console.error("Error updating template:",a),alert("Failed to update template. Please try again.")}}),p=a=>{if(a.preventDefault(),!m.title.trim()||!m.message_template.trim()){alert("Please fill in the required fields (Title and Message Template).");return}r?n.mutate({id:r.id,data:m}):y.mutate(m)},u=(a,j)=>{f(v=>({...v,[a]:j}))},_=a=>a.replace(/_/g," ").toLowerCase().replace(/\b\w/g,j=>j.toUpperCase());return o?e.jsx(P,{children:e.jsx("div",{className:"modal-overlay",onClick:x,children:e.jsx(l.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},onClick:a=>a.stopPropagation(),className:"modal-content max-w-2xl max-h-[90vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:p,className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(S,{className:"h-6 w-6 text-primary-600"}),e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:r?"Edit Template":"Create New Template"})]}),e.jsx("button",{type:"button",onClick:x,className:"p-2 text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 rounded-lg",children:e.jsx(H,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Template Title *"}),e.jsx("input",{type:"text",value:m.title,onChange:a=>u("title",a.target.value),className:"input-field",placeholder:"e.g., Cold Outreach - Software Engineer",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Message Type *"}),e.jsx("select",{value:m.message_type,onChange:a=>u("message_type",a.target.value),className:"input-field",required:!0,children:Object.values(O).map(a=>e.jsx("option",{value:a,children:_(a)},a))})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"form-label",children:"Message Template *"}),e.jsx("textarea",{value:m.message_template,onChange:a=>u("message_template",a.target.value),className:"input-field h-48 resize-none",placeholder:`Hi {contact_name},

I hope this message finds you well. My name is {your_name}, and I'm interested in...`,required:!0}),e.jsxs("p",{className:"text-xs text-neutral-500 mt-2",children:["Use variables: ","{contact_name}",", ","{company_name}",", ","{position_title}",","," ","{your_name}"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-neutral-200",children:[e.jsx("button",{type:"button",onClick:x,className:"btn btn-secondary",children:"Cancel"}),e.jsxs("button",{type:"submit",disabled:y.isPending||n.isPending,className:"btn btn-primary",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),y.isPending||n.isPending?"Saving...":r?"Update Template":"Create Template"]})]})]})})})}):null},Pe=()=>{var G,I;const[o,x]=i.useState(""),[r,m]=i.useState(!1),[f,c]=i.useState(null),[y,n]=i.useState(null),[p,u]=i.useState("templates"),[_,a]=i.useState(!1),[j,v]=i.useState("csv"),[T,k]=i.useState(""),$=J(),{data:s=[],isLoading:h}=ie({queryKey:["referral-messages"],queryFn:()=>L.get("/referral-messages/").then(t=>t.data)}),U=q({mutationFn:t=>L.post(`/referral-messages/${t}/duplicate`),onSuccess:()=>{$.invalidateQueries({queryKey:["referral-messages"]}),k("Template duplicated successfully"),setTimeout(()=>k(""),3e3)}}),D=i.useMemo(()=>s.filter(t=>!o||t.title.toLowerCase().includes(o.toLowerCase())||t.message_template.toLowerCase().includes(o.toLowerCase())),[s,o]),E=i.useMemo(()=>{const t=s.length,d=s.filter(w=>w.is_active).length,g=s.reduce((w,b)=>w+parseInt(b.usage_count||"0"),0),N=s.reduce((w,b)=>parseInt(b.usage_count||"0")>parseInt(w.usage_count||"0")?b:w,s[0]||{usage_count:"0"});return{totalTemplates:t,activeTemplates:d,totalUsage:g,mostUsedTemplate:N}},[s]),z=()=>{c(null),m(!0)},X=t=>{c(t),m(!0)},Z=t=>{U.mutate(t)},ee=t=>{n(t)},te=()=>{const t=D.map(d=>({title:d.title,type:d.message_type,active:d.is_active,usageCount:d.usage_count,createdAt:d.created_at}));j==="csv"?se(t):ae(t),a(!1),k(`Successfully exported ${t.length} template(s)`),setTimeout(()=>k(""),3e3)},se=t=>{const g=[["Title","Type","Active","Usage Count","Created"].join(","),...t.map(F=>[`"${F.title}"`,`"${F.type}"`,`"${F.active}"`,`"${F.usageCount}"`,`"${F.createdAt}"`].join(","))].join(`
`),N=new Blob([g],{type:"text/csv"}),w=window.URL.createObjectURL(N),b=document.createElement("a");b.href=w,b.download=`referral-templates-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(b),b.click(),document.body.removeChild(b),window.URL.revokeObjectURL(w)},ae=t=>{const d=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),g=window.URL.createObjectURL(d),N=document.createElement("a");N.href=g,N.download=`referral-templates-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(N),N.click(),document.body.removeChild(N),window.URL.revokeObjectURL(g)},A=({tab:t,label:d,count:g})=>e.jsxs("button",{onClick:()=>u(t),className:`
        px-6 py-3 font-medium text-sm border-b-2 transition-all duration-200
        ${p===t?"border-neutral-900 text-neutral-900 bg-white":"border-transparent text-neutral-600 hover:text-neutral-900 hover:bg-neutral-50"}
      `,children:[d,g!==void 0&&e.jsx("span",{className:`
          ml-2 px-2 py-0.5 text-xs rounded-full font-medium
          ${p===t?"bg-neutral-100 text-neutral-700":"bg-neutral-200 text-neutral-600"}
        `,children:g})]}),le={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},C={hidden:{y:20,opacity:0},visible:{y:0,opacity:1}};return h?e.jsxs("div",{className:"flex items-center justify-center h-64",children:[e.jsx(xe,{className:"h-6 w-6 animate-spin text-neutral-400"}),e.jsx("span",{className:"ml-3 text-neutral-600",children:"Loading templates..."})]}):e.jsxs(l.div,{className:"space-y-4",variants:le,initial:"hidden",animate:"visible",children:[e.jsx(P,{children:T&&e.jsxs(l.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),T]})}),e.jsx(l.div,{variants:C,className:"relative",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Referral Messages"}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-neutral-100 rounded-full border border-neutral-200",children:[e.jsx(S,{className:"h-4 w-4 text-neutral-600"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"Message Templates"})]})]}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Create and manage personalized referral message templates"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(l.button,{onClick:()=>a(!0),className:"px-4 py-2 bg-white border border-neutral-300 hover:bg-neutral-50 text-neutral-700 rounded-lg font-medium text-sm transition-colors flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(Y,{className:"h-4 w-4"}),"Export"]}),e.jsxs(l.button,{onClick:z,className:"px-4 py-2 bg-neutral-900 hover:bg-neutral-800 text-white rounded-lg font-medium text-sm transition-colors flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(K,{className:"h-4 w-4"}),"Create Template"]})]})]})}),e.jsxs(l.div,{variants:C,className:"flex items-end gap-0 border-b border-neutral-200",children:[e.jsx(A,{tab:"templates",label:"Templates",count:s.length}),e.jsx(A,{tab:"messages",label:"Generated Messages"}),e.jsx(A,{tab:"stats",label:"Analytics & Stats"})]}),p==="templates"&&e.jsxs(l.div,{variants:C,className:"space-y-6",children:[e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search templates...",value:o,onChange:t=>x(t.target.value),className:"input-field pl-10"})]}),D.length===0?e.jsxs(l.div,{className:"card p-12 text-center",variants:C,children:[e.jsx("div",{className:"p-4 rounded-full bg-neutral-100 w-fit mx-auto mb-6",children:e.jsx(S,{className:"h-12 w-12 text-neutral-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"No templates found"}),e.jsx("p",{className:"text-neutral-600 mb-6",children:o?"No templates match your search.":"Create your first referral message template."}),e.jsxs(l.button,{onClick:z,className:"btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Create Template"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:D.map((t,d)=>e.jsx(l.div,{className:`card-interactive group ${t.is_active?"":"opacity-60"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.05},whileHover:{y:-4},children:e.jsxs("div",{className:"p-6 h-full flex flex-col",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg text-neutral-900 truncate group-hover:text-blue-600 transition-colors mb-2",children:t.title}),e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-neutral-100 text-neutral-700 border border-neutral-200",children:t.message_type.replace(/_/g," ").toLowerCase().replace(/\b\w/g,g=>g.toUpperCase())})]}),!t.is_active&&e.jsx("span",{className:"text-xs text-neutral-500 bg-neutral-100 px-2 py-1 rounded",children:"Inactive"})]}),e.jsxs("p",{className:"text-sm text-neutral-600 line-clamp-3 mb-4",children:[t.message_template.substring(0,120),t.message_template.length>120?"...":""]}),e.jsxs("div",{className:"text-xs text-neutral-500 mb-4 flex items-center gap-1",children:[e.jsx(V,{className:"h-3 w-3"}),"Used ",t.usage_count," times"]})]}),e.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t border-neutral-100",children:[e.jsxs(l.button,{onClick:()=>ee(t),className:"flex-1 btn-primary text-sm py-2",disabled:!t.is_active,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Generate"]}),e.jsx(l.button,{onClick:()=>X(t),className:"btn-secondary p-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(pe,{className:"h-3 w-3"})}),e.jsx(l.button,{onClick:()=>Z(t.id),className:"btn-secondary p-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(R,{className:"h-3 w-3"})})]})]})},t.id))})]}),p==="messages"&&e.jsx(l.div,{variants:C,className:"space-y-6",children:e.jsxs(l.div,{className:"card p-12 text-center",variants:C,children:[e.jsx("div",{className:"p-4 rounded-full bg-blue-100 w-fit mx-auto mb-6",children:e.jsx(S,{className:"h-12 w-12 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:"Generated Messages"}),e.jsx("p",{className:"text-neutral-600 mb-6",children:'Your generated messages from templates will appear here. Use the "Generate" button on any template to create personalized messages.'})]})}),p==="stats"&&e.jsx(l.div,{variants:C,className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-4",children:"Template Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"card p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Total Templates"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-1",children:E.totalTemplates})]}),e.jsx("div",{className:"p-3 rounded-lg border border-blue-200 bg-blue-50 text-blue-600",children:e.jsx(S,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"card p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Active Templates"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-1",children:E.activeTemplates})]}),e.jsx("div",{className:"p-3 rounded-lg border border-green-200 bg-green-50 text-green-600",children:e.jsx(M,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"card p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Total Usage"}),e.jsx("p",{className:"text-2xl font-bold text-neutral-900 mt-1",children:E.totalUsage})]}),e.jsx("div",{className:"p-3 rounded-lg border border-purple-200 bg-purple-50 text-purple-600",children:e.jsx(he,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"card p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-600",children:"Most Used"}),e.jsx("p",{className:"text-lg font-bold text-neutral-900 mt-1 truncate",children:((G=E.mostUsedTemplate)==null?void 0:G.title)||"None"}),e.jsxs("p",{className:"text-xs text-neutral-500",children:[((I=E.mostUsedTemplate)==null?void 0:I.usage_count)||0," uses"]})]}),e.jsx("div",{className:"p-3 rounded-lg border border-orange-200 bg-orange-50 text-orange-600",children:e.jsx(ne,{className:"h-6 w-6"})})]})})]})]})}),e.jsx(P,{children:_&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>a(!1),children:e.jsxs(l.div,{initial:{scale:.95},animate:{scale:1},exit:{scale:.95},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Export Templates"}),e.jsx(l.button,{onClick:()=>a(!1),className:"text-neutral-400 hover:text-neutral-600",whileHover:{scale:1.1},children:e.jsx(H,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Export Format"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:["csv","json"].map(t=>e.jsx(l.button,{onClick:()=>v(t),className:`p-3 rounded-lg border text-center ${j===t?"border-blue-500 bg-blue-50 text-blue-700":"border-neutral-200 hover:border-neutral-300"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:t.toUpperCase()},t))})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(l.button,{onClick:()=>a(!1),className:"flex-1 btn-secondary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),e.jsxs(l.button,{onClick:te,className:"flex-1 btn-primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Export"]})]})]})]})})}),e.jsx(je,{isOpen:r,onClose:()=>m(!1),editingMessage:f}),e.jsx(ge,{isOpen:!!y,onClose:()=>n(null),template:y})]})};export{Pe as default};
