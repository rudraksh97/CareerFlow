import{c as qe,r as n,u as Ie,j as e,A as Q,m as x,b as re,X as be,U as fe,e as ue,B as mt,C as xt,d as ht}from"./index-0B-QrMym.js";import{u as pt}from"./useQuery-gFyUPQ7C.js";import{u as K}from"./useMutation-DdaFRHUm.js";import{a as z}from"./api-BgONvxhD.js";import{M as gt}from"./mail-D00ol1xp.js";import{D as me,C as bt}from"./download-BfIeGHGd.js";import{P as Fe}from"./plus-CaDpXQUP.js";import{T as ft}from"./target-BWwjKe5t.js";import{C as jt,F as vt,T as Re}from"./trash-2-CzVBZmWj.js";import{B as xe}from"./building-C-svXhnr.js";import{T as yt,C as Nt,M as wt,A as Ct,a as kt}from"./table-NpWfy8zk.js";import{G as St}from"./grid-3x3-BrqtIY49.js";import{C as _t,a as he,S as pe,A as Tt}from"./square-Bm81cBTm.js";import{S as Dt}from"./search-DuMWX5kD.js";import{P as Pe}from"./pen-square-BwW19Awb.js";import{R as At}from"./rotate-cw-BU4PmOrm.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=qe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=qe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),ge={name:"",email:"",company:"",role:"",linkedin_url:"",contact_type:"referral",notes:""};function Mt({isOpen:Z,onClose:O,contact:C}){const[p,j]=n.useState(ge),[g,S]=n.useState({}),[D,_]=n.useState(!1),E=Ie(),f=C!=null;n.useEffect(()=>{j(f&&C?{name:C.name||"",email:C.email||"",company:C.company||"",role:C.role||"",linkedin_url:C.linkedin_url||"",contact_type:C.contact_type||"referral",notes:C.notes||""}:ge)},[C,f,Z]);const Y=K({mutationFn:r=>z.post("/contacts/",r),onSuccess:()=>{E.invalidateQueries({queryKey:["contacts"]}),E.invalidateQueries({queryKey:["dashboard-analytics"]}),E.invalidateQueries({queryKey:["analytics"]}),L()},onError:r=>{console.error("Error creating contact:",r),alert("Failed to create contact. Please try again.")}}),T=K({mutationFn:r=>z.put(`/contacts/${C.id}/`,r),onSuccess:()=>{E.invalidateQueries({queryKey:["contacts"]}),L()},onError:r=>{console.error("Error updating contact:",r),alert("Failed to update contact. Please try again.")}}),J=()=>{const r={};return p.name.trim()||(r.name="Name is required"),p.email.trim()?N(p.email)||(r.email="Please enter a valid email"):r.email="Email is required",p.company.trim()||(r.company="Company is required"),p.linkedin_url&&!V(p.linkedin_url)&&(r.linkedin_url="Please enter a valid LinkedIn URL"),S(r),Object.keys(r).length===0},N=r=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r),V=r=>{try{return new URL(r),!0}catch{return!1}},w=async r=>{if(r.preventDefault(),!!J()){_(!0);try{f?await T.mutateAsync(p):await Y.mutateAsync(p)}finally{_(!1)}}},L=()=>{j(ge),S({}),_(!1),O()},M=(r,u)=>{j($=>({...$,[r]:u})),g[r]&&S($=>({...$,[r]:void 0}))};return Z?e.jsx(Q,{children:e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:L,children:e.jsx(x.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},onClick:r=>r.stopPropagation(),className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-blue-100 border border-blue-200",children:e.jsx(re,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:f?"Edit Contact":"Add New Contact"}),e.jsx("p",{className:"text-neutral-600 text-sm",children:f?"Update contact information":"Add a new professional contact"})]})]}),e.jsx("button",{onClick:L,className:"p-2 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-all duration-200 focus-ring",children:e.jsx(be,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(fe,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Personal Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Name *"}),e.jsx("input",{type:"text",value:p.name,onChange:r=>M("name",r.target.value),className:`form-input ${g.name?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":""}`,placeholder:"Full name"}),g.name&&e.jsx("p",{className:"text-red-600 text-sm mt-2",children:g.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Email *"}),e.jsxs("div",{className:"relative",children:[e.jsx(gt,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-neutral-400 pointer-events-none"}),e.jsx("input",{type:"email",value:p.email,onChange:r=>M("email",r.target.value),className:`form-input pl-10 ${g.email?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":""}`,placeholder:"email@example.com"})]}),g.email&&e.jsx("p",{className:"text-red-600 text-sm mt-2",children:g.email})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Lt,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Professional Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Company *"}),e.jsx("input",{type:"text",value:p.company,onChange:r=>M("company",r.target.value),className:`form-input ${g.company?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":""}`,placeholder:"Company name"}),g.company&&e.jsx("p",{className:"text-red-600 text-sm mt-2",children:g.company})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Role"}),e.jsx("input",{type:"text",value:p.role,onChange:r=>M("role",r.target.value),className:"form-input",placeholder:"e.g., Senior Engineer, Recruiter"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Contact Type *"}),e.jsxs("select",{value:p.contact_type,onChange:r=>M("contact_type",r.target.value),className:"form-input",children:[e.jsx("option",{value:"referral",children:"Referral"}),e.jsx("option",{value:"recruiter",children:"Recruiter"}),e.jsx("option",{value:"hiring_manager",children:"Hiring Manager"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Ue,{className:"h-5 w-5 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Additional Information"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"LinkedIn URL"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-blue-500 pointer-events-none"}),e.jsx("input",{type:"url",value:p.linkedin_url,onChange:r=>M("linkedin_url",r.target.value),className:`form-input pl-10 ${g.linkedin_url?"border-red-300 bg-red-50 focus:border-red-500 focus:ring-red-500/20":""}`,placeholder:"https://linkedin.com/in/username"})]}),g.linkedin_url&&e.jsx("p",{className:"text-red-600 text-sm mt-2",children:g.linkedin_url})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:"Notes"}),e.jsx("textarea",{value:p.notes,onChange:r=>M("notes",r.target.value),rows:3,className:"form-input resize-none",placeholder:"Additional notes about this contact..."})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 mt-8 pt-6 border-t border-neutral-200",children:[e.jsx("button",{type:"button",onClick:L,className:"btn-secondary focus-ring",disabled:D,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary focus-ring relative min-w-[120px] disabled:opacity-75 disabled:cursor-not-allowed",disabled:D,children:D?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"loading-accent mr-2"}),e.jsx("span",{children:f?"Updating...":"Adding..."})]}):e.jsx("span",{children:f?"Update Contact":"Add Contact"})})]})]})]})})})}):null}function Yt(){const[Z,O]=n.useState(!1),[C,p]=n.useState(null),[j,g]=n.useState(""),[S,D]=n.useState(""),[_,E]=n.useState(""),[f,Y]=n.useState({field:"created_at",direction:"desc"}),[T,J]=n.useState(""),[N,V]=n.useState(""),[w,L]=n.useState(""),[M,r]=n.useState(!1),[u,$]=n.useState(new Set),[H,je]=n.useState("table"),[ze,G]=n.useState(!1),[W,ve]=n.useState("csv"),[X,le]=n.useState("filtered"),[ne,Oe]=n.useState({name:!0,email:!0,company:!0,role:!0,contactType:!0,linkedinUrl:!1,notes:!0,createdAt:!1}),[ee,ye]=n.useState(!1),[Ne,R]=n.useState(""),[te,we]=n.useState("contacts"),[A,U]=n.useState(1),[P,Ve]=n.useState(10),[v,He]=n.useState({name:!0,company:!0,role:!0,contactType:!0,linkedin:!0,notes:!0,action:!0}),[Ce,ke]=n.useState(!1),ie=Ie(),{data:m=[],isLoading:Be}=pt({queryKey:["contacts"],queryFn:()=>z.get("/contacts/").then(t=>t.data),staleTime:2*60*1e3}),Se=K({mutationFn:t=>z.delete(`/contacts/${t}/`),onSuccess:()=>{ie.invalidateQueries({queryKey:["contacts"]})}}),Qe=K({mutationFn:async({ids:t,contactType:s})=>{const a=t.map(i=>z.put(`/contacts/${i}/`,{contact_type:s}));return Promise.all(a)},onSuccess:(t,s)=>{ie.invalidateQueries({queryKey:["contacts"]}),$(new Set),R(`Successfully updated ${s.ids.length} contact(s) to "${s.contactType}" type`),setTimeout(()=>R(""),3e3)}}),Ke=K({mutationFn:async t=>{const s=t.map(a=>z.delete(`/contacts/${a}/`));return Promise.all(s)},onSuccess:(t,s)=>{ie.invalidateQueries({queryKey:["contacts"]}),$(new Set),R(`Successfully deleted ${s.length} contact(s)`),setTimeout(()=>R(""),3e3)}}),k=n.useMemo(()=>{const t=m.length;if(t===0)return{total:0,byType:{},topCompanies:[],recentContacts:0,withLinkedIn:0};const s=m.reduce((l,o)=>(l[o.contact_type]=(l[o.contact_type]||0)+1,l),{}),a=m.reduce((l,o)=>(l[o.company]=(l[o.company]||0)+1,l),{}),i=Object.entries(a).sort(([,l],[,o])=>o-l).slice(0,5).map(([l,o])=>({company:l,count:o})),c=new Date;c.setDate(c.getDate()-7);const h=m.filter(l=>new Date(l.created_at)>=c).length,y=m.filter(l=>l.linkedin_url&&l.linkedin_url.trim()!=="").length;return{total:t,byType:s,topCompanies:i,recentContacts:h,withLinkedIn:y}},[m]),Ze=n.useMemo(()=>{if(!m)return[];const t=m.map(s=>s.company);return[...new Set(t)].sort()},[m]),Ye=()=>{if(!T&&!N&&!w)return null;const t=new Date;let s=null,a=null;if(T)switch(T){case"today":s=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate(),23,59,59);break;case"week":s=new Date(t.getTime()-7*24*60*60*1e3),a=t;break;case"month":s=new Date(t.getFullYear(),t.getMonth(),1),a=t;break;case"quarter":const i=Math.floor(t.getMonth()/3)*3;s=new Date(t.getFullYear(),i,1),a=t;break;case"year":s=new Date(t.getFullYear(),0,1),a=t;break;case"last-30":s=new Date(t.getTime()-30*24*60*60*1e3),a=t;break;case"last-90":s=new Date(t.getTime()-90*24*60*60*1e3),a=t;break}return(N||w)&&(N&&(s=new Date(N)),w&&(a=new Date(w),a.setHours(23,59,59))),{startDate:s,endDate:a}},b=n.useMemo(()=>m.filter(s=>{const a=s.name.toLowerCase().includes(j.toLowerCase())||s.company.toLowerCase().includes(j.toLowerCase())||s.email.toLowerCase().includes(j.toLowerCase())||s.role&&s.role.toLowerCase().includes(j.toLowerCase())||s.notes&&s.notes.toLowerCase().includes(j.toLowerCase()),i=!S||s.contact_type===S,c=!_||s.company===_,h=Ye();let y=!0;if(h){const l=new Date(s.created_at),{startDate:o,endDate:d}=h;o&&l<o&&(y=!1),d&&l>d&&(y=!1)}return a&&i&&c&&y}).sort((s,a)=>{let i,c;switch(f.field){case"name":i=s.name.toLowerCase(),c=a.name.toLowerCase();break;case"company":i=s.company.toLowerCase(),c=a.company.toLowerCase();break;case"email":i=s.email.toLowerCase(),c=a.email.toLowerCase();break;case"role":i=(s.role||"").toLowerCase(),c=(a.role||"").toLowerCase();break;case"created_at":i=new Date(s.created_at).getTime(),c=new Date(a.created_at).getTime();break;case"contact_type":const h={referral:4,hiring_manager:3,recruiter:2,other:1};i=h[s.contact_type]||0,c=h[a.contact_type]||0;break;case"relevance":const y=d=>{switch(d){case"referral":return 10;case"hiring_manager":return 8;case"recruiter":return 6;case"other":return 4;default:return 0}},l=d=>d&&d.trim()!==""?5:0,o=d=>{const B=Math.floor((Date.now()-new Date(d).getTime())/864e5);return Math.max(0,30-B)};i=y(s.contact_type)+l(s.linkedin_url)+o(s.created_at),c=y(a.contact_type)+l(a.linkedin_url)+o(a.created_at);break;default:return 0}return i<c?f.direction==="asc"?-1:1:i>c?f.direction==="asc"?1:-1:0}),[m,j,S,_,f,T,N,w]),_e=n.useMemo(()=>{const t=(A-1)*P,s=t+P;return b.slice(t,s)},[b,A,P]),F=Math.ceil(b.length/P),Te=t=>{const s=["bg-blue-100 text-blue-700","bg-green-100 text-green-700","bg-orange-100 text-orange-700","bg-purple-100 text-purple-700","bg-pink-100 text-pink-700","bg-indigo-100 text-indigo-700"],a=t.split("").reduce((i,c)=>i+c.charCodeAt(0),0);return s[a%s.length]},De=t=>{switch(t){case"referral":return"bg-blue-100 text-blue-800";case"recruiter":return"bg-green-100 text-green-800";case"hiring_manager":return"bg-purple-100 text-purple-800";default:return"bg-neutral-100 text-neutral-800"}},Ae=n.useCallback(()=>{p(null),O(!0)},[]),Le=n.useCallback(t=>{p(t),O(!0)},[]),Me=n.useCallback(t=>{window.confirm("Are you sure you want to delete this contact?")&&Se.mutate(t)},[Se]),q=()=>{U(1)},Je=t=>{Y(s=>({field:t,direction:s.field===t&&s.direction==="asc"?"desc":"asc"}))},Ge=t=>{switch(g(""),D(""),E(""),q(),t){case"referrals":D("referral");break;case"recruiters":D("recruiter");break;case"hiring-managers":D("hiring_manager");break}we("contacts")},We=t=>{J(t),t!=="custom"?(V(""),L(""),r(!1)):r(!0),q()},Xe=()=>{g(""),D(""),E(""),J(""),V(""),L(""),r(!1),q()},et=t=>{He(s=>({...s,[t]:!s[t]}))},oe=n.useRef(null);n.useEffect(()=>{const t=s=>{oe.current&&!oe.current.contains(s.target)&&ke(!1)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const tt=t=>{g(t),q()},st=t=>{D(t),q()},at=t=>{E(t),q()},ce=()=>{let t=0;return j&&t++,S&&t++,_&&t++,(T||N||w)&&t++,t},de=()=>{if(!T&&!N&&!w)return"";if(T)switch(T){case"today":return"Today";case"week":return"Last 7 days";case"month":return"This month";case"quarter":return"This quarter";case"year":return"This year";case"last-30":return"Last 30 days";case"last-90":return"Last 90 days";default:return""}return N&&w?`${new Date(N).toLocaleDateString()} - ${new Date(w).toLocaleDateString()}`:N?`From ${new Date(N).toLocaleDateString()}`:w?`Until ${new Date(w).toLocaleDateString()}`:""},rt=()=>{if(u.size===b.length)$(new Set);else{const t=new Set(b.map(s=>s.id));$(t)}},$e=t=>{const s=new Set(u);s.has(t)?s.delete(t):s.add(t),$(s)},lt=t=>{if(u.size===0)return;const s=`Are you sure you want to update ${u.size} contact(s) to "${t}" type?`;window.confirm(s)&&Qe.mutate({ids:Array.from(u),contactType:t})},nt=()=>{if(u.size===0)return;const t=`Are you sure you want to delete ${u.size} contact(s)? This action cannot be undone.`;window.confirm(t)&&Ke.mutate(Array.from(u))},it=async()=>{if(!ee){ye(!0);try{let t=[];switch(X){case"all":t=m;break;case"filtered":t=b;break;case"selected":t=m.filter(a=>u.has(a.id));break}const s=Object.entries(ne).filter(([a,i])=>i).map(([a,i])=>a);W==="csv"?ot(t,s):ct(t,s),G(!1),R(`Successfully exported ${t.length} contact(s) as ${W.toUpperCase()}`),setTimeout(()=>R(""),3e3)}catch(t){console.error("Export failed:",t),alert("Export failed. Please try again.")}finally{ye(!1)}}},ot=(t,s)=>{const a={name:"Name",email:"Email",company:"Company",role:"Role",contactType:"Contact Type",linkedinUrl:"LinkedIn URL",notes:"Notes",createdAt:"Created Date"},i=s.map(d=>a[d]||d),c=t.map(d=>s.map(B=>{switch(B){case"name":return d.name;case"email":return d.email;case"company":return d.company;case"role":return d.role||"";case"contactType":return d.contact_type.replace(/_/g," ");case"linkedinUrl":return d.linkedin_url||"";case"notes":return d.notes||"";case"createdAt":return new Date(d.created_at).toLocaleDateString();default:return""}})),h=[i,...c].map(d=>d.map(B=>`"${String(B).replace(/"/g,'""')}"`).join(",")).join(`
`),y=new Blob([h],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),o=URL.createObjectURL(y);l.setAttribute("href",o),l.setAttribute("download",`contacts-${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)},ct=(t,s)=>{const a=t.map(l=>{const o={};return s.forEach(d=>{switch(d){case"name":o.name=l.name;break;case"email":o.email=l.email;break;case"company":o.company=l.company;break;case"role":o.role=l.role;break;case"contactType":o.contactType=l.contact_type;break;case"linkedinUrl":o.linkedinUrl=l.linkedin_url;break;case"notes":o.notes=l.notes;break;case"createdAt":o.createdAt=l.created_at;break}}),o}),i=JSON.stringify(a,null,2),c=new Blob([i],{type:"application/json;charset=utf-8;"}),h=document.createElement("a"),y=URL.createObjectURL(c);h.setAttribute("href",y),h.setAttribute("download",`contacts-${new Date().toISOString().split("T")[0]}.json`),h.style.visibility="hidden",document.body.appendChild(h),h.click(),document.body.removeChild(h)},dt=()=>ze?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(me,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Export Contacts"})]}),e.jsx("button",{onClick:()=>G(!1),className:"p-2 text-neutral-400 hover:text-neutral-600 rounded-lg transition-colors",children:e.jsx(be,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Format"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>ve("csv"),className:`p-3 text-sm font-medium rounded-lg border transition-colors ${W==="csv"?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"CSV"}),e.jsx("button",{onClick:()=>ve("json"),className:`p-3 text-sm font-medium rounded-lg border transition-colors ${W==="json"?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:"JSON"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Data to Export"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>le("filtered"),className:`w-full p-3 text-sm text-left rounded-lg border transition-colors ${X==="filtered"?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:[e.jsxs("div",{className:"font-medium",children:["Filtered Results (",b.length,")"]}),e.jsx("div",{className:"text-xs opacity-75",children:"Export contacts matching current filters"})]}),e.jsxs("button",{onClick:()=>le("selected"),disabled:u.size===0,className:`w-full p-3 text-sm text-left rounded-lg border transition-colors ${X==="selected"?"bg-blue-50 border-blue-200 text-blue-700":u.size===0?"bg-neutral-50 border-neutral-200 text-neutral-400 cursor-not-allowed":"bg-white border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:[e.jsxs("div",{className:"font-medium",children:["Selected Contacts (",u.size,")"]}),e.jsx("div",{className:"text-xs opacity-75",children:"Export only selected contacts"})]}),e.jsxs("button",{onClick:()=>le("all"),className:`w-full p-3 text-sm text-left rounded-lg border transition-colors ${X==="all"?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-neutral-300 text-neutral-700 hover:bg-neutral-50"}`,children:[e.jsxs("div",{className:"font-medium",children:["All Contacts (",m.length,")"]}),e.jsx("div",{className:"text-xs opacity-75",children:"Export all contacts regardless of filters"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:"Fields to Include"}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto border border-neutral-200 rounded-lg p-3",children:Object.entries(ne).map(([t,s])=>e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:s,onChange:a=>Oe(i=>({...i,[t]:a.target.checked})),className:"rounded border-neutral-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-sm text-neutral-700 capitalize",children:t.replace(/([A-Z])/g," $1")})]},t))})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 mt-6 pt-6 border-t border-neutral-200",children:[e.jsx("button",{onClick:()=>G(!1),className:"px-4 py-2 text-sm font-medium text-neutral-700 hover:text-neutral-900 transition-colors",children:"Cancel"}),e.jsxs("button",{onClick:it,disabled:ee||Object.values(ne).every(t=>!t),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-neutral-400 text-white text-sm font-medium rounded-lg transition-colors flex items-center gap-2",children:[ee?e.jsx(At,{className:"h-4 w-4 animate-spin"}):e.jsx(me,{className:"h-4 w-4"}),ee?"Exporting...":"Export"]})]})]})})}):null,ut={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},I={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},Ee=({tab:t,label:s,count:a})=>e.jsxs("button",{onClick:()=>we(t),className:`
        px-6 py-3 font-medium text-sm border-b-2 transition-all duration-200
        ${te===t?"border-neutral-900 text-neutral-900 bg-white":"border-transparent text-neutral-600 hover:text-neutral-900 hover:bg-neutral-50"}
      `,children:[s,a!==void 0&&e.jsx("span",{className:`
          ml-2 px-2 py-0.5 text-xs rounded-full font-medium
          ${te===t?"bg-neutral-100 text-neutral-700":"bg-neutral-200 text-neutral-600"}
        `,children:a})]}),se=({field:t,children:s,className:a="p-3"})=>{const i=f.field===t,c=f.direction;return e.jsx("th",{className:`text-left font-semibold text-neutral-900 ${a}`,children:e.jsxs("button",{onClick:()=>Je(t),className:"flex items-center gap-2 hover:text-neutral-700 transition-colors group w-full text-left",children:[s,e.jsx("div",{className:"flex flex-col",children:i?c==="asc"?e.jsx(Ct,{className:"h-3 w-3 text-neutral-900"}):e.jsx(kt,{className:"h-3 w-3 text-neutral-900"}):e.jsx(Tt,{className:"h-3 w-3 text-neutral-400 group-hover:text-neutral-600"})})]})})},ae=({title:t,value:s,icon:a,color:i="blue",trend:c,onClick:h,clickable:y=!1})=>{const o=`
      p-6 rounded-lg border-2 transition-all duration-200
      ${{blue:"bg-blue-50 text-blue-700 border-blue-200",green:"bg-green-50 text-green-700 border-green-200",orange:"bg-orange-50 text-orange-700 border-orange-200",red:"bg-red-50 text-red-700 border-red-200",purple:"bg-purple-50 text-purple-700 border-purple-200",gray:"bg-neutral-50 text-neutral-700 border-neutral-200"}[i]}
      ${y?"cursor-pointer hover:shadow-md hover:scale-[1.02]":""}
    `,d=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx(a,{className:"h-6 w-6"}),e.jsx("span",{className:"text-2xl font-bold",children:s})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:t}),c&&e.jsx("div",{className:"text-xs opacity-75 mt-1",children:c})]})]});return y&&h?e.jsx(x.button,{onClick:h,className:o,whileHover:{scale:1.02},whileTap:{scale:.98},children:e.jsx(d,{})}):e.jsx("div",{className:o,children:e.jsx(d,{})})};return Be?e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-12 bg-neutral-200 rounded-lg animate-pulse"}),e.jsx("div",{className:"h-6 bg-neutral-100 rounded-lg animate-pulse w-2/3"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((t,s)=>e.jsx("div",{className:"h-32 bg-neutral-100 rounded-lg animate-pulse"},s))}),e.jsxs("div",{className:"card p-8",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:Array.from({length:4}).map((t,s)=>e.jsx("div",{className:"h-12 bg-neutral-100 rounded-lg animate-pulse"},s))}),e.jsx("div",{className:"space-y-4",children:Array.from({length:6}).map((t,s)=>e.jsx("div",{className:"h-20 bg-neutral-50 rounded-lg animate-pulse"},s))})]})]}):e.jsxs(x.div,{className:"space-y-4",variants:ut,initial:"hidden",animate:"visible",children:[e.jsx(x.div,{variants:I,className:"relative",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:"Contacts"}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-neutral-100 rounded-full border border-neutral-200",children:[e.jsx(re,{className:"h-4 w-4 text-neutral-600"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:"Professional Network"})]})]}),e.jsx("p",{className:"text-sm text-neutral-600",children:"Manage your professional contacts and network connections"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(x.button,{onClick:()=>G(!0),className:"px-4 py-2 bg-white border border-neutral-300 hover:bg-neutral-50 text-neutral-700 rounded-lg font-medium text-sm transition-colors flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(me,{className:"h-4 w-4"}),"Export"]}),e.jsxs(x.button,{className:"px-4 py-2 bg-neutral-900 hover:bg-neutral-800 text-white rounded-lg font-medium text-sm transition-colors flex items-center gap-2",onClick:Ae,whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(Fe,{className:"h-4 w-4"}),"Add Contact"]})]})]})}),e.jsxs(x.div,{variants:I,className:"flex items-end gap-0 border-b border-neutral-200",children:[e.jsx(Ee,{tab:"contacts",label:"Contacts",count:b.length}),e.jsx(Ee,{tab:"stats",label:"Analytics & Stats"})]}),te==="stats"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x.div,{variants:I,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ae,{title:"Total Contacts",value:k.total,icon:re,color:"blue",trend:k.recentContacts>0?`${k.recentContacts} this week`:void 0}),e.jsx(ae,{title:"Referrals",value:k.byType.referral||0,icon:ft,color:"green",trend:"Primary contacts",onClick:()=>Ge("referrals"),clickable:!0}),e.jsx(ae,{title:"With LinkedIn",value:k.withLinkedIn,icon:ue,color:"purple",trend:`${Math.round(k.withLinkedIn/Math.max(k.total,1)*100)}% connected`}),e.jsx(ae,{title:"Recent Additions",value:k.recentContacts,icon:jt,color:"orange",trend:"Last 7 days"})]}),e.jsxs(x.div,{variants:I,className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100",children:e.jsx(mt,{className:"h-5 w-5 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Contact Types"})]}),e.jsx("div",{className:"space-y-4",children:Object.entries(k.byType).map(([t,s])=>{const a=Math.round(s/Math.max(k.total,1)*100),i=c=>{switch(c){case"referral":return"bg-green-500";case"recruiter":return"bg-blue-500";case"hiring_manager":return"bg-purple-500";default:return"bg-neutral-400"}};return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${i(t)}`}),e.jsx("span",{className:"text-sm font-medium text-neutral-700 capitalize",children:t.replace(/_/g," ")})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-24 bg-neutral-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${i(t)}`,style:{width:`${a}%`}})}),e.jsx("span",{className:"text-sm font-bold text-neutral-900 w-12 text-right",children:s})]})]},t)})})]}),e.jsxs("div",{className:"bg-white border border-neutral-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 rounded-lg bg-orange-100",children:e.jsx(xe,{className:"h-5 w-5 text-orange-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-neutral-900",children:"Top Companies"})]}),e.jsx("div",{className:"space-y-3",children:k.topCompanies.length>0?k.topCompanies.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-neutral-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-neutral-200 flex items-center justify-center text-xs font-bold text-neutral-600",children:s+1}),e.jsx("span",{className:"font-medium text-neutral-900",children:t.company})]}),e.jsxs("span",{className:"text-sm font-bold text-neutral-700",children:[t.count," contact",t.count>1?"s":""]})]},t.company)):e.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[e.jsx(xe,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No companies yet"})]})})]})]})]}),te==="contacts"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(x.div,{variants:I,className:"bg-white border border-neutral-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-1.5 rounded-lg bg-neutral-100",children:e.jsx(vt,{className:"h-4 w-4 text-neutral-600"})}),e.jsx("h3",{className:"text-base font-semibold text-neutral-900",children:"Filters & Search"}),ce()>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-0.5 text-xs font-medium bg-neutral-200 text-neutral-700 rounded-full",children:[ce()," active"]}),e.jsx("button",{onClick:Xe,className:"text-xs text-neutral-500 hover:text-red-600 transition-colors",children:"Clear all"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex bg-neutral-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>je("table"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${H==="table"?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,children:e.jsx(yt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>je("cards"),className:`px-3 py-1.5 text-sm font-medium rounded-md transition-colors ${H==="cards"?"bg-white text-neutral-900 shadow-sm":"text-neutral-600 hover:text-neutral-900"}`,children:e.jsx(St,{className:"h-4 w-4"})})]}),H==="table"&&e.jsxs("div",{className:"relative",ref:oe,children:[e.jsxs("button",{onClick:()=>ke(!Ce),className:"px-3 py-1.5 text-sm font-medium text-neutral-600 hover:text-neutral-900 border border-neutral-300 rounded-lg transition-colors flex items-center gap-2",children:[e.jsx(_t,{className:"h-4 w-4"}),"Columns"]}),Ce&&e.jsx("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white border border-neutral-200 rounded-lg shadow-lg z-10 p-2",children:Object.entries(v).map(([t,s])=>e.jsxs("button",{onClick:()=>et(t),className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-neutral-50 rounded-md",children:[e.jsx("span",{className:"capitalize",children:t.replace(/([A-Z])/g," $1")}),s?e.jsx(Nt,{className:"h-4 w-4 text-green-600"}):e.jsx("div",{className:"h-4 w-4"})]},t))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-3 mb-4",children:[e.jsxs("div",{className:"relative lg:col-span-4",children:[e.jsx(Dt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"}),e.jsx("input",{type:"text",placeholder:"Search name, company, email, role...",value:j,onChange:t=>tt(t.target.value),className:"w-full pl-10 pr-4 py-2.5 text-sm border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent"})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("select",{value:S,onChange:t=>st(t.target.value),className:"w-full py-2.5 px-3 text-sm border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"referral",children:"Referral"}),e.jsx("option",{value:"recruiter",children:"Recruiter"}),e.jsx("option",{value:"hiring_manager",children:"Hiring Manager"}),e.jsx("option",{value:"other",children:"Other"})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("select",{value:_,onChange:t=>at(t.target.value),className:"w-full py-2.5 px-3 text-sm border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Companies"}),Ze.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("select",{value:T,onChange:t=>We(t.target.value),className:"w-full py-2.5 px-3 text-sm border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent",children:[e.jsx("option",{value:"",children:"All Time"}),e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"Last 7 days"}),e.jsx("option",{value:"month",children:"This month"}),e.jsx("option",{value:"quarter",children:"This quarter"}),e.jsx("option",{value:"year",children:"This year"}),e.jsx("option",{value:"last-30",children:"Last 30 days"}),e.jsx("option",{value:"last-90",children:"Last 90 days"}),e.jsx("option",{value:"custom",children:"Custom range"})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("select",{value:`${f.field}-${f.direction}`,onChange:t=>{const[s,a]=t.target.value.split("-");Y({field:s,direction:a})},className:"w-full py-2.5 px-3 text-sm border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent",children:[e.jsx("option",{value:"created_at-desc",children:"Newest first"}),e.jsx("option",{value:"created_at-asc",children:"Oldest first"}),e.jsx("option",{value:"name-asc",children:"Name A-Z"}),e.jsx("option",{value:"name-desc",children:"Name Z-A"}),e.jsx("option",{value:"company-asc",children:"Company A-Z"}),e.jsx("option",{value:"company-desc",children:"Company Z-A"}),e.jsx("option",{value:"contact_type-desc",children:"Type priority"}),e.jsx("option",{value:"relevance-desc",children:"Most relevant"})]})})]}),M&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4 p-4 bg-neutral-50 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"From Date"}),e.jsx("input",{type:"date",value:N,onChange:t=>V(t.target.value),className:"w-full py-2 px-3 text-sm border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"To Date"}),e.jsx("input",{type:"date",value:w,onChange:t=>L(t.target.value),className:"w-full py-2 px-3 text-sm border border-neutral-300 rounded-lg focus:ring-2 focus:ring-neutral-900 focus:border-transparent"})]})]}),(ce()>0||de())&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[e.jsx("span",{className:"text-sm font-medium text-neutral-600",children:"Active filters:"}),j&&e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:['Search: "',j,'"']}),S&&e.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:["Type: ",S.replace(/_/g," ")]}),_&&e.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full",children:["Company: ",_]}),de()&&e.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 text-xs rounded-full",children:["Date: ",de()]})]}),e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 rounded-lg bg-neutral-50 border border-neutral-200",children:[e.jsxs("span",{className:"text-sm font-medium text-neutral-700",children:[b.length," contact",b.length!==1?"s":""," found",b.length!==m.length&&e.jsxs("span",{className:"text-neutral-500",children:[" (filtered from ",m.length," total)"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-neutral-500"}),u.size>0&&e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:[u.size," selected"]})]})]})]}),e.jsxs(x.div,{variants:I,className:"bg-white border border-neutral-200 rounded-lg p-4",children:[e.jsx(Q,{children:u.size>0&&e.jsx(x.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mb-4 p-3 bg-neutral-100 border border-neutral-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-neutral-700",children:[u.size," contact",u.size>1?"s":""," selected"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{onChange:t=>lt(t.target.value),className:"px-2 py-1 text-sm border border-neutral-300 rounded-md bg-white",defaultValue:"",children:[e.jsx("option",{value:"",children:"Update Type"}),e.jsx("option",{value:"referral",children:"Referral"}),e.jsx("option",{value:"recruiter",children:"Recruiter"}),e.jsx("option",{value:"hiring_manager",children:"Hiring Manager"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("button",{onClick:nt,className:"px-3 py-1 text-sm text-red-600 hover:bg-red-50 border border-red-300 rounded-md transition-colors",children:"Delete Selected"})]})]})})}),H==="table"&&e.jsx("div",{className:"overflow-x-auto",children:e.jsx("div",{className:"inline-block min-w-full align-middle",children:e.jsxs("table",{className:"min-w-full divide-y divide-neutral-200",children:[e.jsx("thead",{className:"bg-neutral-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 font-semibold text-neutral-900",children:e.jsx("button",{onClick:rt,className:"p-1 rounded hover:bg-neutral-200 transition-colors",title:u.size===b.length?"Deselect all":"Select all",children:u.size===b.length?e.jsx(he,{className:"h-4 w-4 text-blue-600"}):u.size>0?e.jsx(wt,{className:"h-4 w-4 text-blue-600"}):e.jsx(pe,{className:"h-4 w-4 text-neutral-400"})})}),v.name&&e.jsx(se,{field:"name",children:"Contact"}),v.company&&e.jsx(se,{field:"company",children:"Company"}),v.role&&e.jsx(se,{field:"role",children:"Role"}),v.contactType&&e.jsx(se,{field:"contact_type",children:"Type"}),v.linkedin&&e.jsx("th",{className:"text-left p-3 font-semibold text-neutral-900",children:"LinkedIn"}),v.notes&&e.jsx("th",{className:"text-left p-3 font-semibold text-neutral-900",children:"Notes"}),v.action&&e.jsx("th",{className:"text-right p-3 font-semibold text-neutral-900",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-neutral-200",children:e.jsx(Q,{children:_e.map(t=>e.jsxs(x.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"group hover:bg-neutral-50 transition-colors",children:[e.jsx("td",{className:"p-3",children:e.jsx("button",{onClick:()=>$e(t.id),className:"p-1 rounded hover:bg-neutral-200 transition-colors",children:u.has(t.id)?e.jsx(he,{className:"h-4 w-4 text-blue-600"}):e.jsx(pe,{className:"h-4 w-4 text-neutral-400"})})}),v.name&&e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-10 w-10 rounded-full flex-shrink-0 flex items-center justify-center font-semibold text-sm ${Te(t.name)}`,children:t.name.split(" ").map(s=>s[0]).join("").toUpperCase()}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-semibold text-neutral-900 truncate",children:t.name}),e.jsx("div",{className:"text-sm text-neutral-600 truncate",children:t.email})]})]})}),v.company&&e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"text-sm text-neutral-900 font-medium",children:t.company})}),v.role&&e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"text-sm text-neutral-900",children:t.role||"—"})}),v.contactType&&e.jsx("td",{className:"p-3",children:e.jsx("span",{className:`inline-flex px-2.5 py-1 text-xs font-medium rounded-full ${De(t.contact_type)}`,children:t.contact_type.replace(/_/g," ")})}),v.linkedin&&e.jsx("td",{className:"p-3",children:t.linkedin_url?e.jsx("a",{href:t.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 transition-colors",title:"View LinkedIn Profile",children:e.jsx(ue,{className:"h-5 w-5"})}):e.jsx("span",{className:"text-neutral-400",children:"—"})}),v.notes&&e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"text-sm text-neutral-600 truncate max-w-xs",children:t.notes||"—"})}),v.action&&e.jsx("td",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(x.button,{onClick:()=>Le(t),className:"p-2 text-neutral-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.95},title:"Edit contact",children:e.jsx(Pe,{className:"h-4 w-4"})}),e.jsx(x.button,{onClick:()=>Me(t.id),className:"p-2 text-neutral-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200",whileHover:{scale:1.1},whileTap:{scale:.95},title:"Delete contact",children:e.jsx(Re,{className:"h-4 w-4"})})]})})]},t.id))})})]})})}),H==="cards"&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.jsx(Q,{children:_e.map(t=>e.jsxs(x.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white border border-neutral-200 rounded-lg p-4 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center font-semibold ${Te(t.name)}`,children:t.name.split(" ").map(s=>s[0]).join("").toUpperCase()}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"font-semibold text-neutral-900 truncate",children:t.name}),e.jsx("p",{className:"text-sm text-neutral-600 truncate",children:t.email})]})]}),e.jsx("button",{onClick:()=>$e(t.id),className:"p-1 rounded hover:bg-neutral-100 transition-colors",children:u.has(t.id)?e.jsx(he,{className:"h-4 w-4 text-blue-600"}):e.jsx(pe,{className:"h-4 w-4 text-neutral-400"})})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-neutral-400"}),e.jsx("span",{className:"text-sm text-neutral-900 font-medium",children:t.company})]}),t.role&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-4 w-4 text-neutral-400"}),e.jsx("span",{className:"text-sm text-neutral-600",children:t.role})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${De(t.contact_type)}`,children:t.contact_type.replace(/_/g," ")}),t.linkedin_url&&e.jsx("a",{href:t.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700 transition-colors",title:"View LinkedIn Profile",children:e.jsx(ue,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(x.button,{onClick:()=>Le(t),className:"p-2 text-neutral-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all",whileHover:{scale:1.1},whileTap:{scale:.95},title:"Edit contact",children:e.jsx(Pe,{className:"h-4 w-4"})}),e.jsx(x.button,{onClick:()=>Me(t.id),className:"p-2 text-neutral-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all",whileHover:{scale:1.1},whileTap:{scale:.95},title:"Delete contact",children:e.jsx(Re,{className:"h-4 w-4"})})]})]},t.id))})}),b.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center text-center py-16",children:[e.jsx("div",{className:"p-4 rounded-full bg-neutral-100 mb-6",children:e.jsx(fe,{className:"h-12 w-12 text-neutral-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-neutral-900 mb-2",children:(m==null?void 0:m.length)===0?"No contacts yet":"No contacts match filters"}),e.jsx("p",{className:"text-neutral-600 max-w-md mb-6",children:(m==null?void 0:m.length)===0?"Add your professional contacts to keep track of your network and build meaningful connections.":"Try adjusting your search or filter criteria to find what you're looking for."}),(m==null?void 0:m.length)===0&&e.jsxs("button",{className:"px-4 py-2 bg-neutral-900 hover:bg-neutral-800 text-white rounded-lg font-medium text-sm transition-colors flex items-center gap-2",onClick:Ae,children:[e.jsx(Fe,{className:"h-4 w-4"}),"Add Your First Contact"]})]}),F>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6 pt-6 border-t border-neutral-200",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-neutral-600",children:"Show:"}),e.jsxs("select",{value:P,onChange:t=>{Ve(Number(t.target.value)),U(1)},className:"px-3 py-1 border border-neutral-300 rounded-md text-sm",children:[e.jsx("option",{value:5,children:"5"}),e.jsx("option",{value:10,children:"10"}),e.jsx("option",{value:25,children:"25"}),e.jsx("option",{value:50,children:"50"}),e.jsx("option",{value:100,children:"100"})]}),e.jsx("span",{className:"text-sm text-neutral-600",children:"per page"})]}),e.jsxs("div",{className:"text-sm text-neutral-600",children:["Showing ",Math.min((A-1)*P+1,b.length)," to"," ",Math.min(A*P,b.length)," of"," ",b.length," results"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>U(Math.max(1,A-1)),disabled:A===1,className:"px-3 py-2 text-sm text-neutral-600 hover:text-neutral-900 disabled:text-neutral-400 disabled:cursor-not-allowed",children:e.jsx(xt,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[Array.from({length:Math.min(F,5)},(t,s)=>{const a=s+1;return e.jsx("button",{onClick:()=>U(a),className:`px-3 py-2 text-sm rounded-md transition-colors ${A===a?"bg-neutral-900 text-white":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:a},a)}),F>5&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"px-2 text-neutral-400",children:"..."}),e.jsx("button",{onClick:()=>U(F),className:`px-3 py-2 text-sm rounded-md transition-colors ${A===F?"bg-neutral-900 text-white":"text-neutral-600 hover:text-neutral-900 hover:bg-neutral-100"}`,children:F})]})]}),e.jsx("button",{onClick:()=>U(Math.min(F,A+1)),disabled:A===F,className:"px-3 py-2 text-sm text-neutral-600 hover:text-neutral-900 disabled:text-neutral-400 disabled:cursor-not-allowed",children:e.jsx(ht,{className:"h-4 w-4"})})]})]})]})]}),e.jsx(Mt,{isOpen:Z,onClose:()=>O(!1),contact:C}),e.jsx(dt,{}),e.jsx(Q,{children:Ne&&e.jsxs(x.div,{initial:{opacity:0,y:-100},animate:{opacity:1,y:0},exit:{opacity:0,y:-100},className:"fixed top-4 right-4 z-50 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg flex items-center gap-2",children:[e.jsx(bt,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:Ne}),e.jsx("button",{onClick:()=>R(""),className:"ml-2 text-green-100 hover:text-white transition-colors",children:e.jsx(be,{className:"h-4 w-4"})})]})})]})}export{Yt as default};
